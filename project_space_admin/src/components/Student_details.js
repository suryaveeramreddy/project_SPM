

/*
{
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A0529",
      password: "Thub@123",
      name: "Kalyan Raghava Kotala",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05J0",
      password: "Thub@123",
      name: "Surya",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05G5",
      password: "Thub@123",
      name: "Damar",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    },
    {
      username: "20A91A05D1",
      password: "Thub@123",
      name: "Varun",
      branch: "CSE",
      year: 2024,
      stream: "FSD"
    }
     */
import axios, { Axios } from 'axios';
import React, { useEffect, useState } from 'react';
import { Table, Pagination,Button, Row, Col } from 'react-bootstrap';
import jsPDF from 'jspdf';
import 'jspdf-autotable'
function Student_details() {
  const [data, setData] = useState([]);

  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage, setItemsPerPage] = useState(2);
   useEffect(()=>{
    axios.get('http://localhost:8009/authentication').then((res)=> {console.log(res.data);setData(res.data)})
   },[])

  const indexOfLastItem = currentPage * itemsPerPage;
  const indexOfFirstItem = indexOfLastItem - itemsPerPage;
  const currentItems = data.slice(indexOfFirstItem, indexOfLastItem);
  let arr =[];
  let arr1 =[];
  for (let index = 0; index < data.length; index++) {
    arr1.push(data[index].username)
  }
  let arr2 =[];
  for (let index = 0; index < data.length; index++) {
    arr2.push(data[index].name)
  }

  let arr3 =[];
  for (let index = 0; index < data.length; index++) {
    arr3.push(data[index].password)
  }
  
  let arr4 =[];
  for (let index = 0; index < data.length; index++) {
    arr4.push(data[index].stream)
  }

  let arr5=[];
  for (let index = 0; index < data.length; index++) {
    arr5.push(data[index].branch)
  }

  let arr6=[];
  for (let index = 0; index < data.length; index++) {
    arr6.push(data[index].year)
  }


  const totalPages = Math.ceil(data.length / itemsPerPage);
  const pageNumbers = [];
  for (let i = 1; i <= totalPages; i++) {
    pageNumbers.push(i);
  }

  const renderTable = () => {
    return (
        
      <Table striped bordered hover responsive className='t'>
        <thead>
          <tr>
            <th>RollNo</th>
            <th>Name</th>
            <th>password</th>
            <th>stream</th>
            <th>branch</th>
            <th>passout year</th>


          </tr>
        </thead>
        <tbody>
          {currentItems.map((item) => (
            <tr key={item}>
              <td>{item.username}</td>
              <td>{item.name}</td>
              <td>{item.password}</td>
              <td>{item.stream}</td>
              <td>{item.branch}</td>
              <td>{item.year}</td>
            </tr>
          ))}
        </tbody>
      </Table>
    );
  };


  const renderPagination = () => {
    return (
      <Pagination>
        {pageNumbers.map((number) => (
          <Pagination.Item
            style={{width:"5%" , height:"10%" , background:"none"}}
            key={number}
            active={number === currentPage}
            onClick={() => setCurrentPage(number)}
            
          >
            {number}
          </Pagination.Item>
        ))}
      </Pagination>
    );
  };

  function download(){
    
      const doc = new jsPDF();
      doc.text("the Student Details",20,10)
      doc.autoTable({
        head:[["rollNo","Name","Password","stream","branch","passout year"]],
        body:[
            arr1,arr2,arr3,arr4,arr5,arr6
        ],
      })
      doc.save('table.pdf')
  }

  return (
    <div>
      <h1>Student Data</h1>
      {renderTable()}
      {renderPagination()}
      <Row>
        <Col>
           <div style={{display:'flex',justifyContent:'center'}}>
             <Button onClick={download}>Generate PDF</Button>
           </div>
        </Col>
      </Row>
    </div>
  );
}

export default Student_details;